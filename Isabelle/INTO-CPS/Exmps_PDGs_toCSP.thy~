(********  
  Title:      Theory defining pretty printing of CSP specs used to generate CSP
  Author:     Nuno Am√°lio
***********)

theory Exmps_PDGs_toCSP
imports  CSP_Print  Exmp_PDGs_Grs PDG_To_CSP

begin

export_code toCSP expid csp str_int G1 G2 G3 G3b G4a G4b 
  in SML module_name CSP file "csp.sml"

ML_file "csp.sml"

ML_file "wr-csp.sml"

ML {*   
val dir = OS.FileSys.getDir()^"/Work/UoYWorkGit/Models/CSP/FMI_loops/";
val file = TextIO.openOut(dir^"G1.csp");
  TextIO.output (file, wrCSP_ (toCSP g1));
  TextIO.closeOut(file);

val file = TextIO.openOut(dir^"G2.csp");
  TextIO.output (file, wrCSP_ (toCSP g2));
  TextIO.closeOut(file);

val file = TextIO.openOut(dir^"G3.csp");
  TextIO.output (file, wrCSP_ (toCSP g3));
  TextIO.closeOut(file);

val file = TextIO.openOut(dir^"G3b.csp");
  TextIO.output (file, wrCSP_ (toCSP g3b));
  TextIO.closeOut(file);

val file = TextIO.openOut(dir^"G4a.csp");
  TextIO.output (file, wrCSP_ (toCSP g4a));
  TextIO.closeOut(file);

val file = TextIO.openOut(dir^"G4b.csp");
  TextIO.output (file, wrCSP_ (toCSP g4b));
  TextIO.closeOut(file);
*}

end