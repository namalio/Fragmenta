# Statecharts
The statecharts layered model in Fragmenta, corresponding to section 4 of [1], along with several examples. There are two models corresponding to abstract (Fig. 20) and concrete (Fig. 21) layers.

The metamodel may be found in the folder 'MM/'. The files with extension .fr, .gfg, .gm, gwt provide the definitions of fragments, GFGs/models, type morphisms, and instances (graphs with typing), respectively, using a textual notation.

The different fragments, models and compositions, as generated by Fragmenta/Graphviz, are available in 'MM/img';  they are as follows:
- F_\<N\>.pdf: the different individual fragments of the two models.
- M_\<M\>_gfg: The global fragments graphs of the models, where M is either 'StCs_AMM' or 'StCs_MM'
- M_\<M\>_Mdl: The models and all its fragments, where M is either 'StCs_AMM' or 'StCs_MM'
- M_\<M\>_uf: The union of all the fragments of the two models, where M is either 'StCs_AMM' or 'StCs_MM'
- M_\<M\>_rf: The resolved fragments corresponding to the two models, where M is either 'StCs_AMM' or 'StCs_MM'

The different statechart examples are available under the folder 'Examples/'; the generated drawings (available under 'Examples/img') are as follows:
- Stc_BoolSetter: A valid instance of a statechart describing the setting of a boolean variable.
- Stc_Buzzer: A valid statechart describing a simple buzzer.
- Stc_WBuzzer: An invalid statechart of a simple buzzer with two initial state markers.
- Stc_BuzzerWStatus: A valid statechart describing a buzzer with a status (Fig. 12c in [1]).
- Stc_WBuzzerWStatus: An invalid statechart describing a buzzer with a status (Fig. 12d in [1]).
- Stc_WBuzzerWStatus2: Another invalid statechart describing a buzzer with a status.
- StC_Lasbscs: A valid statechart describing the language L = {a^nb^nc^n | n ≥ 0}.
- StC_SimpleWatch: A valid statechart describing a simple watch.
- StC_Gland: A valid statechart describing a gland (Fig 22a in [1]).
- StC_RGland: An invalid statechart describing a resuscitating gland (Fig 22b in [1]).
- StC_TVSet: A valid statechart of a simple TV set. 


The linux/macos script 'runStatecharts.sh' will do the required checks on the models and generate the different diagrams; it requires an installation of Haskell.

## References

1. Nuno Amálio. *Enhancing Expressivity, Modularity and Rigour of Graphical Data Modelling with Fragmenta*. To be published in ACM TOSEM. 2025.